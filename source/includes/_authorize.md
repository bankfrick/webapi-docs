# Authorize

Login to the WebAPI using an API-Key to receive a JWT. The password is optional when authorizing with the WebAPI. In addition, the validity of the created JWT can be limited using the optional validUntil. The API-Key can be generated by the user using the Manage API-Keys Dialog.

## POST

`POST /v2/authorize`

> Request

```shell--test
POST https://olbtest.bankfrick.li/webapi/v2/authorize
Content-Type: application/json
Accept: application/json
Signature: ...
algorithm: ...

                
{
  "key" : "1234567890abcdefgHIJKLMN",
  "password" : "secret",
  "validUntil" : "2025-04-01"
}
```

```shell--production
POST https://olb.bankfrick.li/webapi/v2/authorize
Content-Type: application/json
Accept: application/json
Signature: ...
algorithm: ...

                
{
  "key" : "1234567890abcdefgHIJKLMN",
  "password" : "secret",
  "validUntil" : "2025-04-01"
}
```

> Response

```shell
HTTP/1.1 200 OK
Content-Type: application/json
Signature: ...
algorithm: ...

                
{
  "token" : "eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJCYW5rIEZyaWNrIFdlYkFQSSIsInN1YiI6IlRhZ2VzYWJzY2hsdXNzIiwiY29udGFjdCI6IjY3ODkiLCJuYW1lIjoiTWF4IE11c3RlciIsInBlcm1pc3Npb25zIjpbImFjY291bnRzIiwidHJhbnNhY3Rpb25zIiwiY2FtdDA1MiIsImNhbXQwNTMiXSwiYXVkIjoicHJvZHVjdGlvbiIsImV4cCI6MTU0NjMwMDgwMCwiaWF0IjoxNTMzMTA5MzIzfQ.DlxpBZMGAZx1xK-UdA-s9SrHMrEIt60waF1kLYG6kCuTRMrcDiS3KR8p0bAyZaLUWlfSJF3TCMb2Tup5MyLFWc0fZRJfu0mBEyz74ZwbSN9iTrwzzsfIuX2E1d895hR1MgsMy2i1Qu-vwZgsW0WivnNCHBMLZH0jM94v1czt7f0"
}
```

Perform a login to receive the JWT. For the login an API-Key must be generated within the online banking gui application. The API-Key replaces the user contact number for requesting a JWT form the authorization server. The returned JWT token must be used to authenticate against other webapi resources which need a privileged user.

**Request Parameters**

| name | type | description |
| ---- | ---- | ----------- |
| Signature | header | \<**signature**\> |
| algorithm | header | The used signing algorithm, e.g. rsa-sha512 |

**Request Body**

| media type | data type | description |
| ---------- | --------- | ----------- |
| application/json | [Authorize](#data-types-authorize) (JSON) | The authorization request body |

**Response Codes**

| code | condition | type |
| ---- | --------- | ---- |
| 200 | Request successful | [AuthorizeResponse](#data-types-authorizeresponse) (JSON) |

**Response Body**

| media type | data type | description |
| ---------- | --------- | ----------- |
| application/json | [AuthorizeResponse](#data-types-authorizeresponse) (JSON) | The authorize response message which contains the JWT as json object. |

**Response Headers**

| name | description |
| ---- | ----------- |
| signature | \<**signature**\> |
| algorithm | The used signing algorithm, e.g. rsa-sha512 |
